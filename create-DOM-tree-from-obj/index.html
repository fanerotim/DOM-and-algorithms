<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>

  <style>
    .heading {
      width: 70%;
      text-align: center;
      margin: 0 auto;
      padding: 2rem;
    }
  </style>

  <h1 class="heading">Create a nested ul/li DOM tree from a data obj</h1>
  <div id="tree"></div>
  <!-- The result should be:
<div id="tree">
<ul>
  <li>Fish
    <ul>
      <li>trout</li>
      <li>salmon</li>
    </ul>
  </li>
  <li>Trees
    <ul>
      <li>Huge
        <ul>
          <li>sequoia</li>
          <li>oak</li>
        </ul>
      </li>
      <li>Flowering
        <ul>
          <li>apple tree</li>
          <li>magnolia</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
</div>
-->

  <script>
    let data = {
      "Fish": {
        "trout": {},
        "salmon": {}
      },

      "Tree": {
        "Huge": {
          "sequoia": {},
          "oak": {}
        },
        "Flowering": {
          "apple tree": {},
          "magnolia": {}
        }
      }
    };
    
    function createTree(container, data) {
      /* your code */
      // before anything else, let's make the heading blink for fun
      // setInterval(() => heading.style.color === 'white' ? heading.style.color = 'black' : heading.style.color = 'white', 1000);
      const heading = document.querySelector('.heading');
      // convert obj into arr
      const entries = Object.entries(data);
      // pass it to dom-builder fn (createDom);
      createDom(container, entries);
    }

    function createDom(container, entries) {
      
      // create a new ul that will wrap the list items
      const ul = document.createElement('ul');

      // iterate over transformed obj key and values
      for (let entry of entries) {
        // iterate over each key / value as a separate value
        for (let item of entry) {
          // check if the value is obj, so, we can repeat the cycle and loop throgh the objs as deep as needed
          if (typeof item === 'object') {
            // get last li item and update container as the contaier / hook changes - it needs to be the last li if we already have one
            const lis = document.querySelectorAll('li');
            createDom(lis[lis.length -1], Object.entries(item))
            continue;
          }

          // create a list item, give it text and append to newly created ul
          const li = document.createElement('li');
          li.textContent = item;
          ul.append(li);
          // container changes and it is dynamic
          container.append(ul);
        }
      }
    }

    createTree(document.getElementById('tree'), data);
  </script>

</body>

</html>